> ## **概念介绍**

---

> ### **对象建模**

---

*关于对象模型管理请参考[《supOS工厂建模管理软件用户手册V2.4.pdf》](http://oss.supos.com/docs/ProductManual/supOS/V2.8.1/supOS工厂建模管理软件用户手册V2.4.pdf)*

> #### **基础信息**

---

系统的对象模型有对象模板、对象实例和功能集合，对象模型内部包含基础信息、属性、服务、事件和订阅的基本功能。

基础信息主要是描述对象模型的名称、别名、继承的模板（功能集合不继承模板）、功能集合以及详细描述等。对象和属性的操作可以基于别名，对象的名称和别名是全局唯一的，属性的别名是在对象下是唯一的。

> #### **对象属性**

---

对象属性用于描述与对象实例相关的数据标签。通过对象属性可以了解对象实例当前的状态，属性可以是静态的（例如设备名称、设备编号等），也可以是动态的（例如温度值、压力值、速度值等）。每个对象属性都有名称、描述和数据类型。目前，平台支持的对象属性的数据类型如下表所示：

|数据类型|描述|数据类型|描述|
|:---:|:---:|:---:|:---:|
|Integer|整型|DataStruct|数据结构类型|
|Long|长整型|Image|图片类型|
|Float|单精度浮点型|Object|对象实例类型|
|Double|双精度浮点型|Location|坐标类型|
|Boolean|布尔型|VEC2|二维类型。例如2D坐标x和y|
|String|字符串型|VEC3|三维类型。例如3D坐标x、y和z|
|Datetime|时间类型|||

对象属性中可以定义系统报警，系统警报是特殊类型的事件。系统提供报警定义触发事件的规则管理。当属性有数据更新时，系统会判断警报规则。如果警报规则适用，则系统会产生警报。

> #### **对象服务**

---

对象服务是指对象实例可执行的功能定义，每个对象实例都可以定义一个或多个服务。用户定义服务的具体实现是通过脚本完成。通过对象服务的定义，平台中的其它服务可以调用该服务。

在创建新服务时，需要先定义输入和输出参数，然后编写脚本函数。完成脚本函数编写后，可以通过单击该服务的“调试”按钮来进行测试服务执行的正确性。系统提供了调试窗口，通过按要求输入参数即可进行调试。

> #### **对象事件**

---

对象事件是对象实例发出供外部订阅者订阅的消息。系统事件可以触发对应订阅对象的订阅脚本逻辑。事件可以是来自于数据源的值变化，也可以是来自多个属性及其依赖项中的较复杂计算逻辑。建模过程中应建立监听该事件的订阅者，对象事件负责向订阅者发送触发消息。

> #### **对象订阅**

---

对象订阅是用于接收事件，并对事件进行响应的功能。对象订阅需要定义数据来源，通常为对象实例产生的事件。对象实例可订阅事件，且可以执行订阅逻辑脚本。对象订阅将自动接收由事件关联的数据集合，作为订阅脚本的输入信息，可实现自定义业务逻辑来对事件作出反应。任意数量的订阅都可以订阅相同的事件。

> #### **自定义服务**

---

当创建某个对象实例继承于对象模板，则拥有许多用于对象属性读写操作的服务，通过对内置服务的调用，用户可以自定义开发相关服务。

**「注意」supOS对象和属性的操作都是基于别名的，对象的别名、名称是全局唯一的，属性的别名、名称是在对象下是唯一的。**

---

> ### **对象模板**

---

对象模板提供了对象实例所使用到的的属性、服务、事件和订阅的基本功能。

每个对象实例都是根据对象模板创建的。一个对象模板可以继承自另外一个对象模板，此模型配置提供了多个级别的继承。

对象模板可通过实现功能集合来派生一个或多个附加截面特征。当对象模板进行新增属性或服务时，变更会同步到继承该对象模板的对象实例；因此，可方便、快捷地维护建模。

对象模板可用于对对象实例的类别进行分类。通过对同类设备和人员的共性和抽象分析，可分级建立对象模板，从而提升建模效率。如果有两个以上对象实例，它们具有相同的属性、服务和事件，则可以将它们建模为一个对象模板。

> #### **内置模板**

---

系统默认内置模板，用户仅可创建内置模板分类下的模板。

- **实体模板**：平台实体与工厂内实际物品相匹配的对象模板，例如工厂的车间、人员、设备、产品和物料等。
  - 采集器模板：supOS连接的采集器mirror对象自动继承采集器模板；
  - 链接模板：连接的第三方数据模板自动继承链接模板；
  - 视频模板：采集器连接的视频设备自动继承视频模板；
  - 历史视频模板：采集器连接的SDK视频驱动自动继承历史视频模板；
- **表单模板**：supOS平台内置的表单模板，用户可以在表单模板下手动创建关系数据的表单结构，每个属性即为一列表头字段，每个对象实例即为一行数据；

---

> ### **对象实例**

---

当用户要连接采集器软件源点或标签获取智能设备的数据时可以创建一个设备的对象实例继承设备父模板，通过计算的方式获取对应的数据也可以创建虚拟的对象实例，通过对象实例的属性绑定数据源或服务返回获取数据。

新建的对象实例会继承父模板的属性、服务、事件以及订阅功能，对象实例只要在其继承的属性、服务、事件以及订阅绑定数据源即可。

在此基础上，对象实例也可创建属于实例本身的属性、服务、事件以及订阅。